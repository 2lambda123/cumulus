<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Cumulus Data Management Types · Cumulus Documentation</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## What Are The Cumulus Data Management Types"/><meta name="docsearch:version" content="v9.5.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Cumulus Data Management Types · Cumulus Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://nasa.github.io/cumulus/"/><meta property="og:description" content="## What Are The Cumulus Data Management Types"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/cumulus/undefined"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100,"backgroundColor":"#2276AC"}
          )
        });
        </script><script src="/cumulus/js/scrollSpy.js"></script><link rel="stylesheet" href="/cumulus/css/main.css"/><script src="/cumulus/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/cumulus/"><h2 class="headerTitle">Cumulus Documentation</h2></a><a href="/cumulus/versions"><h3>v9.5.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://nasa.github.io/cumulus-api" target="_self">API Docs</a></li><li class=""><a href="https://nasa.github.io/cumulus-distribution-api" target="_self">Distribution API Docs</a></li><li class=""><a href="/cumulus/docs/v9.5.0/cumulus-docs-readme" target="_self">Developer Docs</a></li><li class=""><a href="/cumulus/docs/v9.5.0/data-cookbooks/about-cookbooks" target="_self">Data-Cookbooks</a></li><li class="siteNavGroupActive"><a href="/cumulus/docs/v9.5.0/operator-docs/about-operator-docs" target="_self">Operator Docs</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Configuration</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">About Operator Docs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/about-operator-docs">About Operator Docs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/locating-access-logs">Locating S3 Access Logs</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/cumulus/docs/v9.5.0/configuration/data-management-types">Cumulus Data Management Types</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Operations<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/discovery-filtering">Discovery Filtering</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/bulk-operations">Bulk Operations</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/cmr-operations">CMR Operations</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/naming-executions">Naming Executions</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/troubleshooting/rerunning-workflow-executions">Re-running workflow executions</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/features/replay-kinesis-messages">How to replay Kinesis messages after an outage</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Common Use Cases<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/ops-common-use-cases">Operator Common Use Cases</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/kinesis-stream-for-ingest">Setup Kinesis Stream &amp; CNM Message</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/create-rule-in-cumulus">Create Rule In Cumulus</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/granule-workflows">Granule Workflows</a></li><li class="navListItem"><a class="navItem" href="/cumulus/docs/v9.5.0/operator-docs/trigger-workflow">Trigger a Workflow Execution</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Cumulus Data Management Types</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="what-are-the-cumulus-data-management-types"></a><a href="#what-are-the-cumulus-data-management-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What Are The Cumulus Data Management Types</h2>
<ul>
<li><code>Collections</code>: Collections are logical sets of data objects of the same data type and version. They provide contextual information used by Cumulus ingest.</li>
<li><code>Granules</code>: Granules are the smallest aggregation of data that can be independently managed. They are always associated with a collection, which is a grouping of granules.</li>
<li><code>Providers</code>: Providers generate and distribute input data that Cumulus obtains and sends to workflows.</li>
<li><code>Rules</code>: Rules tell Cumulus how to associate providers and collections and when/how to start processing a workflow.</li>
<li><code>Workflows</code>: Workflows are composed of one or more AWS Lambda Functions and ECS Activities to discover, ingest, process, manage, and archive data.</li>
<li><code>Executions</code>: Executions are records of a workflow.</li>
<li><code>Reconciliation Reports</code>: Reports are a comparison of data sets to check to see if they are in agreement and to help Cumulus users detect conflicts.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="interaction"></a><a href="#interaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interaction</h2>
<ul>
<li><strong>Providers</strong> tell Cumulus where to get new data - i.e. S3, HTTPS</li>
<li><strong>Collections</strong> tell Cumulus where to store the data files</li>
<li><strong>Rules</strong> tell Cumulus when to trigger a workflow execution and tie providers and collections together</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="managing-data-management-types"></a><a href="#managing-data-management-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Managing Data Management Types</h2>
<p>The following are created via the dashboard or API:</p>
<ul>
<li><strong>Providers</strong></li>
<li><strong>Collections</strong></li>
<li><strong>Rules</strong></li>
<li><strong>Reconciliation reports</strong></li>
</ul>
<p><strong>Granules</strong> are created by workflow executions and then can be managed via the dashboard or API.</p>
<p>An <strong>execution</strong> record is created for each workflow execution triggered and can be viewed in the dashboard or data can be retrieved via the API.</p>
<p><strong>Workflows</strong> are created and managed via the Cumulus deployment.</p>
<h2><a class="anchor" aria-hidden="true" id="configuration-fields"></a><a href="#configuration-fields" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration Fields</h2>
<h3><a class="anchor" aria-hidden="true" id="schemas"></a><a href="#schemas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schemas</h3>
<p>Looking at our API schema <a href="https://github.com/nasa/cumulus/tree/master/packages/api/models/schemas.js">definitions</a> can provide us with some insight into collections, providers, rules, and their attributes (and whether those are required or not). The schema for different concepts will be reference throughout this document.</p>
<blockquote>
<p>The schemas are <em>extremely</em> useful for understanding which attributes are configurable and which of those are required. Cumulus uses these schemas for validation.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="providers"></a><a href="#providers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Providers</h3>
<ul>
<li><a href="https://github.com/nasa/cumulus/tree/master/packages/api/models/schemas.js">Provider schema</a> (<code>module.exports.provider</code>)</li>
<li><a href="https://nasa.github.io/cumulus-api/?language=Python#list-providers">Provider API</a></li>
<li><a href="https://github.com/nasa/cumulus/tree/master/example/data/providers">Sample provider configurations</a></li>
</ul>
<p>Please note:</p>
<ul>
<li>While <em>connection</em> configuration is defined here, things that are more specific to a specific ingest setup (e.g. 'What target directory should we be pulling from' or 'How is duplicate handling configured?') are generally defined in a Rule or Collection, not the Provider.</li>
<li>There is some provider behavior which is controlled by task-specific configuration and not the provider definition. This configuration has to be set on a <strong>per-workflow</strong> basis. For example, see the <a href="https://github.com/nasa/cumulus/blob/master/tasks/discover-granules/schemas/config.json#L84"><code>httpListTimeout</code> configuration on the <code>discover-granules</code> task</a></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="provider-configuration"></a><a href="#provider-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Provider Configuration</h4>
<p>The Provider configuration is defined by a JSON object that takes different configuration keys depending on the provider type.    The following are definitions of typical configuration values relevant for the various providers:</p>
<p><details>
<summary><b>Configuration by provider type</b></summary></p>
<h5><a class="anchor" aria-hidden="true" id="s3"></a><a href="#s3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>S3</h5>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:left">Type</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">id</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>Unique identifier for the provider</td></tr>
<tr><td style="text-align:center">globalConnectionLimit</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Integer specifying the connection limit for the provider. This is the maximum number of connections Cumulus compatible ingest lambdas are expected to make to a provider.  Defaults to unlimited</td></tr>
<tr><td style="text-align:center">protocol</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The protocol for this provider. Must be <code>s3</code> for this provider type.</td></tr>
<tr><td style="text-align:center">host</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>S3 Bucket to pull data from</td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="http"></a><a href="#http" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>http</h5>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:left">Type</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">id</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>Unique identifier for the provider</td></tr>
<tr><td style="text-align:center">globalConnectionLimit</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Integer specifying the connection limit for the provider.  This is the maximum number of connections Cumulus compatible ingest lambdas are expected to make to a provider.  Defaults to unlimited</td></tr>
<tr><td style="text-align:center">protocol</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The protocol for this provider.  Must be <code>http</code> for this provider type</td></tr>
<tr><td style="text-align:center">host</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The host to pull data from (e.g. <code>nasa.gov</code>)</td></tr>
<tr><td style="text-align:center">username</td><td style="text-align:left">string</td><td style="text-align:center">No</td><td>Configured username for basic authentication.   Cumulus encrypts this using KMS and uses it in a <code>Basic</code> auth header if needed for authentication</td></tr>
<tr><td style="text-align:center">password</td><td style="text-align:left">string</td><td style="text-align:center"><em>Only if username is specified</em></td><td>Configured password for basic authentication.   Cumulus encrypts this using KMS and uses it in a <code>Basic</code> auth header if needed for authentication</td></tr>
<tr><td style="text-align:center">port</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Port to connect to the provider on.   Defaults to <code>80</code></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="https"></a><a href="#https" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>https</h5>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:left">Type</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">id</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>Unique identifier for the provider</td></tr>
<tr><td style="text-align:center">globalConnectionLimit</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Integer specifying the connection limit for the provider.  This is the maximum number of connections Cumulus compatible ingest lambdas are expected to make to a provider.  Defaults to unlimited</td></tr>
<tr><td style="text-align:center">protocol</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The protocol for this provider.  Must be <code>https</code> for this provider type</td></tr>
<tr><td style="text-align:center">host</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The host to pull data from (e.g. <code>nasa.gov</code>)</td></tr>
<tr><td style="text-align:center">username</td><td style="text-align:left">string</td><td style="text-align:center">No</td><td>Configured username for basic authentication.   Cumulus encrypts this using KMS and uses it in a <code>Basic</code> auth header if needed for authentication</td></tr>
<tr><td style="text-align:center">password</td><td style="text-align:left">string</td><td style="text-align:center"><em>Only if username is specified</em></td><td>Configured password for basic authentication.   Cumulus encrypts this using KMS and uses it in a <code>Basic</code> auth header if needed for authentication</td></tr>
<tr><td style="text-align:center">port</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Port to connect to the provider on.   Defaults to <code>443</code></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="ftp"></a><a href="#ftp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ftp</h5>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:left">Type</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">id</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>Unique identifier for the provider</td></tr>
<tr><td style="text-align:center">globalConnectionLimit</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Integer specifying the connection limit for the provider.  This is the maximum number of connections Cumulus compatible ingest lambdas are expected to make to a provider.  Defaults to unlimited</td></tr>
<tr><td style="text-align:center">protocol</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The protocol for this provider.  Must be <code>ftp</code> for this provider type</td></tr>
<tr><td style="text-align:center">host</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The ftp host to pull data from (e.g. <code>nasa.gov</code>)</td></tr>
<tr><td style="text-align:center">username</td><td style="text-align:left">string</td><td style="text-align:center">No</td><td>Username to use to connect to the ftp server.  Cumulus encrypts this using KMS. Defaults to <code>anonymous</code> if not defined</td></tr>
<tr><td style="text-align:center">password</td><td style="text-align:left">string</td><td style="text-align:center">No</td><td>Password to use to connect to the ftp server.  Cumulus encrypts this using KMS. Defaults to <code>password</code> if not defined</td></tr>
<tr><td style="text-align:center">port</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Port to connect to the provider on.  Defaults to <code>21</code></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="sftp"></a><a href="#sftp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sftp</h5>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:left">Type</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">id</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>Unique identifier for the provider</td></tr>
<tr><td style="text-align:center">globalConnectionLimit</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Integer specifying the connection limit for the provider.  This is the maximum number of connections Cumulus compatible ingest lambdas are expected to make to a provider.  Defaults to unlimited</td></tr>
<tr><td style="text-align:center">protocol</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The protocol for this provider.  Must be <code>sftp</code> for this provider type</td></tr>
<tr><td style="text-align:center">host</td><td style="text-align:left">string</td><td style="text-align:center">Yes</td><td>The ftp host to pull data from (e.g. <code>nasa.gov</code>)</td></tr>
<tr><td style="text-align:center">username</td><td style="text-align:left">string</td><td style="text-align:center">No</td><td>Username to use to connect to the sftp server.</td></tr>
<tr><td style="text-align:center">password</td><td style="text-align:left">string</td><td style="text-align:center">No</td><td>Password to use to connect to the sftp server.</td></tr>
<tr><td style="text-align:center">port</td><td style="text-align:left">integer</td><td style="text-align:center">No</td><td>Port to connect to the provider on.  Defaults to <code>22</code></td></tr>
</tbody>
</table>
<p></details></p>
<h3><a class="anchor" aria-hidden="true" id="collections"></a><a href="#collections" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Collections</h3>
<ul>
<li><a href="https://github.com/nasa/cumulus/tree/master/packages/api/models/schemas.js">Collection schema</a> (<code>module.exports.collection</code>)</li>
<li><a href="https://nasa.github.io/cumulus-api/?language=Python#list-collections">Collection API</a></li>
<li><a href="https://github.com/nasa/cumulus/tree/master/example/data/collections">Sample collection configurations</a></li>
</ul>
<p><details>
<summary><b>Break down of <a href="https://github.com/nasa/cumulus/blob/master/example/data/collections/s3_MOD09GQ_006/s3_MOD09GQ_006.json">s3_MOD09GQ_006.json</a></b></summary></p>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:center">Value</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">name</td><td style="text-align:center"><code>&quot;MOD09GQ&quot;</code></td><td style="text-align:center">Yes</td><td>The name attribute designates the name of the collection. This is the name under which the collection will be displayed on the dashboard</td></tr>
<tr><td style="text-align:center">version</td><td style="text-align:center"><code>&quot;006&quot;</code></td><td style="text-align:center">Yes</td><td>A version tag for the collection</td></tr>
<tr><td style="text-align:center">granuleId</td><td style="text-align:center"><code>&quot;^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$&quot;</code></td><td style="text-align:center">Yes</td><td>The regular expression used to validate the granule ID extracted from filenames according to the <code>granuleIdExtraction</code></td></tr>
<tr><td style="text-align:center">granuleIdExtraction</td><td style="text-align:center"><code>&quot;(MOD09GQ\..*)(\.hdf|\.cmr|_ndvi\.jpg)&quot;</code></td><td style="text-align:center">Yes</td><td>The regular expression used to extract the granule ID from filenames. The first capturing group extracted from the filename by the regex will be used as the granule ID.</td></tr>
<tr><td style="text-align:center">sampleFileName</td><td style="text-align:center"><code>&quot;MOD09GQ.A2017025.h21v00.006.2017034065104.hdf&quot;</code></td><td style="text-align:center">Yes</td><td>An example filename belonging to this collection</td></tr>
<tr><td style="text-align:center">files</td><td style="text-align:center"><code>&lt;JSON Object&gt;</code> of files defined <a href="#files-object">here</a></td><td style="text-align:center">Yes</td><td>Describe the individual files that will exist for each granule in this collection (size, browse, meta, etc.)</td></tr>
<tr><td style="text-align:center">dataType</td><td style="text-align:center"><code>&quot;MOD09GQ&quot;</code></td><td style="text-align:center">No</td><td>Can be specified, but this value will default to the collection_name if not</td></tr>
<tr><td style="text-align:center">duplicateHandling</td><td style="text-align:center"><code>&quot;replace&quot;</code></td><td style="text-align:center">No</td><td><code>(&quot;replace&quot;|&quot;version&quot;|&quot;skip&quot;)</code> determines granule duplicate handling scheme</td></tr>
<tr><td style="text-align:center">ignoreFilesConfigForDiscovery</td><td style="text-align:center"><code>false</code> (default)</td><td style="text-align:center">No</td><td>By default, during discovery only files that match one of the regular expressions in this collection's <code>files</code> attribute (see above) are ingested.  Setting this to <code>true</code> will ignore the <code>files</code> attribute during discovery, meaning that all files for a granule (i.e., all files with filenames matching <code>granuleIdExtraction</code>) will be ingested even when they don't match a regular expression in the <code>files</code> attribute at <em>discovery</em> time.  (NOTE: this attribute does not appear in the example file, but is listed here for completeness.)</td></tr>
<tr><td style="text-align:center">process</td><td style="text-align:center"><code>&quot;modis&quot;</code></td><td style="text-align:center">No</td><td>Example options for this are found in the ChooseProcess step definition in <a href="https://github.com/nasa/cumulus/tree/master/example/cumulus-tf/ingest_and_publish_granule_workflow.tf">the IngestAndPublish workflow definition</a></td></tr>
<tr><td style="text-align:center">meta</td><td style="text-align:center"><code>&lt;JSON Object&gt;</code> of MetaData for the collection</td><td style="text-align:center">No</td><td>MetaData for the collection. This metadata will be available to workflows for this collection via the <a href="/cumulus/docs/v9.5.0/workflows/input_output">Cumulus Message Adapter</a>.</td></tr>
<tr><td style="text-align:center">url_path</td><td style="text-align:center"><code>&quot;{cmrMetadata.Granule.Collection.ShortName}/</code><br/><code>{substring(file.name, 0, 3)}&quot;</code></td><td style="text-align:center">No</td><td>Filename without extension</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="files-object"></a><a href="#files-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>files-object</h4>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:center">Value</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">regex</td><td style="text-align:center"><code>&quot;^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$&quot;</code></td><td style="text-align:center">Yes</td><td>Regular expression used to identify the file</td></tr>
<tr><td style="text-align:center">sampleFileName</td><td style="text-align:center"><code>MOD09GQ.A2017025.h21v00.006.2017034065104.hdf&quot;</code></td><td style="text-align:center">Yes</td><td>Filename used to validate the provided regex</td></tr>
<tr><td style="text-align:center">type</td><td style="text-align:center"><code>&quot;data&quot;</code></td><td style="text-align:center">No</td><td>Value to be assigned to the Granule File Type. CNM types are used by Cumulus CMR steps, non-CNM values will be treated as 'data' type.  Currently only utilized in DiscoverGranules task</td></tr>
<tr><td style="text-align:center">bucket</td><td style="text-align:center"><code>&quot;internal&quot;</code></td><td style="text-align:center">Yes</td><td>Name of the bucket where the file will be stored</td></tr>
<tr><td style="text-align:center">url_path</td><td style="text-align:center"><code>&quot;${collectionShortName}/{substring(file.name, 0, 3)}&quot;</code></td><td style="text-align:center">No</td><td>Folder used to save the granule in the bucket. Defaults to the collection <code>url_path</code></td></tr>
<tr><td style="text-align:center">checksumFor</td><td style="text-align:center"><code>&quot;^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$&quot;</code></td><td style="text-align:center">No</td><td>If this is a checksum file, set <code>checksumFor</code> to the <code>regex</code> of the target file.</td></tr>
</tbody>
</table>
<p></details></p>
<h3><a class="anchor" aria-hidden="true" id="rules"></a><a href="#rules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rules</h3>
<ul>
<li><a href="https://github.com/nasa/cumulus/tree/master/packages/api/models/schemas.js">Rule schema</a> (<code>module.exports.rule</code>)</li>
<li><a href="https://nasa.github.io/cumulus-api/?language=Python#list-rules">Rule API</a></li>
<li><a href="https://github.com/nasa/cumulus/blob/master/example/data/rules/L2_HR_PIXC_kinesisRule.json">Sample Kinesis rule</a></li>
<li><a href="https://github.com/nasa/cumulus/blob/master/example/spec/parallel/testAPI/snsRuleDef.json">Sample SNS rule</a></li>
<li><a href="https://github.com/nasa/cumulus/blob/master/example/spec/parallel/testAPI/data/rules/sqs/MOD09GQ_006_sqsRule.json">Sample SQS rule</a></li>
</ul>
<p>Rules are used by to start processing workflows and the transformation process. Rules can be invoked manually, based on a schedule, or can be configured to be triggered by either events in <a href="/cumulus/docs/v9.5.0/data-cookbooks/cnm-workflow">Kinesis</a>, SNS messages or SQS messages.</p>
<p><details>
<summary><b>Rule configuration</b></summary></p>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:center">Value</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">name</td><td style="text-align:center"><code>&quot;L2_HR_PIXC_kinesisRule&quot;</code></td><td style="text-align:center">Yes</td><td>Name of the rule. This is the name under which the rule will be listed on the dashboard</td></tr>
<tr><td style="text-align:center">workflow</td><td style="text-align:center"><code>&quot;CNMExampleWorkflow&quot;</code></td><td style="text-align:center">Yes</td><td>Name of the workflow to be run. A list of available workflows can be found on the Workflows page</td></tr>
<tr><td style="text-align:center">provider</td><td style="text-align:center"><code>&quot;PODAAC_SWOT&quot;</code></td><td style="text-align:center">No</td><td>Configured provider's ID. This can be found on the Providers dashboard page</td></tr>
<tr><td style="text-align:center">collection</td><td style="text-align:center"><code>&lt;JSON Object&gt;</code> collection object shown <a href="#collection-object">below</a></td><td style="text-align:center">Yes</td><td>Name and version of the collection this rule will moderate. Relates to a collection configured and found in the Collections page</td></tr>
<tr><td style="text-align:center">payload</td><td style="text-align:center"><code>&lt;JSON Object or Array&gt;</code></td><td style="text-align:center">No</td><td>The payload to be passed to the workflow</td></tr>
<tr><td style="text-align:center">meta</td><td style="text-align:center"><code>&lt;JSON Object&gt;</code> of MetaData for the rule</td><td style="text-align:center">No</td><td>MetaData for the rule. This metadata will be available to workflows for this rule via the <a href="/cumulus/docs/v9.5.0/workflows/input_output">Cumulus Message Adapter</a>.</td></tr>
<tr><td style="text-align:center">rule</td><td style="text-align:center"><code>&lt;JSON Object&gt;</code> rule type and associated values - discussed <a href="#rule-object">below</a></td><td style="text-align:center">Yes</td><td>Object defining the type and subsequent attributes of the rule</td></tr>
<tr><td style="text-align:center">state</td><td style="text-align:center"><code>&quot;ENABLED&quot;</code></td><td style="text-align:center">No</td><td><code>(&quot;ENABLED&quot;|&quot;DISABLED&quot;)</code> whether or not the rule will be active. Defaults to <code>&quot;ENABLED&quot;</code>.</td></tr>
<tr><td style="text-align:center">queueUrl</td><td style="text-align:center"><code>https://sqs.us-east-1.amazonaws.com/1234567890/queue-name</code></td><td style="text-align:center">No</td><td>URL for SQS queue that will be used to schedule workflows for this rule</td></tr>
<tr><td style="text-align:center">tags</td><td style="text-align:center"><code>[&quot;kinesis&quot;, &quot;podaac&quot;]</code></td><td style="text-align:center">No</td><td>An array of strings that can be used to simplify search</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="collection-object"></a><a href="#collection-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>collection-object</h4>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:center">Value</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">name</td><td style="text-align:center"><code>&quot;L2_HR_PIXC&quot;</code></td><td style="text-align:center">Yes</td><td>Name of a collection defined/configured in the Collections dashboard page</td></tr>
<tr><td style="text-align:center">version</td><td style="text-align:center"><code>&quot;000&quot;</code></td><td style="text-align:center">Yes</td><td>Version number of a collection defined/configured in the Collections dashboard page</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="meta-object"></a><a href="#meta-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>meta-object</h4>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:center">Value</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">retries</td><td style="text-align:center"><code>3</code></td><td style="text-align:center">No</td><td>Number of retries on errors, for sqs-type rule only. Defaults to 3.</td></tr>
<tr><td style="text-align:center">visibilityTimeout</td><td style="text-align:center"><code>900</code></td><td style="text-align:center">No</td><td>VisibilityTimeout in seconds for the inflight messages, for sqs-type rule only. Defaults to the visibility timeout of the SQS queue when the rule is created.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="rule-object"></a><a href="#rule-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>rule-object</h4>
<table>
<thead>
<tr><th style="text-align:center">Key</th><th style="text-align:center">Value</th><th style="text-align:center">Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">type</td><td style="text-align:center"><code>&quot;kinesis&quot;</code></td><td style="text-align:center">Yes</td><td><code>(&quot;onetime&quot;|&quot;scheduled&quot;|&quot;kinesis&quot;|&quot;sns&quot;|&quot;sqs&quot;)</code> type of scheduling/workflow kick-off desired</td></tr>
<tr><td style="text-align:center">value</td><td style="text-align:center"><code>&lt;String&gt; Object</code></td><td style="text-align:center">Depends</td><td>Discussion of valid values is <a href="#rule-value">below</a></td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="rule-value"></a><a href="#rule-value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>rule-value</h4>
<p>The <code>rule - value</code> entry depends on the type of run:</p>
<ul>
<li>If this is a onetime rule this can be left blank. <a href="/cumulus/docs/v9.5.0/data-cookbooks/hello-world/#execution">Example</a></li>
<li>If this is a scheduled rule this field must hold a valid <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html">cron-type expression or rate expression</a>.</li>
<li>If this is a kinesis rule, this must be a configured <code>${Kinesis_stream_ARN}</code>. <a href="/cumulus/docs/v9.5.0/data-cookbooks/cnm-workflow#rule-configuration">Example</a></li>
<li>If this is an sns rule, this must be an existing <code>${SNS_Topic_Arn}</code>. <a href="https://github.com/nasa/cumulus/blob/master/example/spec/parallel/testAPI/snsRuleDef.json">Example</a></li>
<li>If this is an sqs rule, this must be an existing <code>${SQS_QueueUrl}</code> that your account has permissions to access, and also you must configure a dead-letter queue for this SQS queue. <a href="https://github.com/nasa/cumulus/blob/master/example/spec/parallel/testAPI/data/rules/sqs/MOD09GQ_006_sqsRule.json">Example</a></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="sqs-type-rule-features"></a><a href="#sqs-type-rule-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sqs-type rule features</h4>
<ul>
<li>When an SQS rule is triggered, the SQS message remains on the queue.</li>
<li>The SQS message is not processed multiple times in parallel when visibility timeout is properly set.  You should set the visibility timeout to the maximum expected length of the workflow with padding. Longer is better to avoid parallel processing.</li>
<li>The SQS message visibility timeout can be overridden by the rule.</li>
<li>Upon successful workflow execution, the SQS message is removed from the queue.</li>
<li>Upon failed execution(s), the workflow is run 3 or configured number of times.</li>
<li>Upon failed execution(s), the visibility timeout will be set to 5s to allow retries.</li>
<li>After configured number of failed retries, the SQS message is moved to the dead-letter queue configured for the SQS queue.</li>
</ul>
<p></details></p>
<h2><a class="anchor" aria-hidden="true" id="configuration-via-cumulus-dashboard"></a><a href="#configuration-via-cumulus-dashboard" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration Via Cumulus Dashboard</h2>
<h3><a class="anchor" aria-hidden="true" id="create-a-provider"></a><a href="#create-a-provider" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create A Provider</h3>
<ul>
<li>In the Cumulus dashboard, go to the <code>Provider</code> page.</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_provider_page.png" alt="Screenshot of Create Provider form"></p>
<ul>
<li>Click on <code>Add Provider</code>.</li>
<li>Fill in the form and then submit it.</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_add_provider_form.png" alt="Screenshot of Create Provider form"></p>
<h3><a class="anchor" aria-hidden="true" id="create-a-collection"></a><a href="#create-a-collection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create A Collection</h3>
<ul>
<li>Go to the <code>Collections</code> page.</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_collections_page.png" alt="Screenshot of the Collections page"></p>
<ul>
<li>Click on <code>Add Collection</code>.</li>
<li>Copy and paste or fill in the collection JSON object form.</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_add_collection.png" alt="Screenshot of Add Collection form"></p>
<ul>
<li>Once you submit the form, you should be able to verify that your new collection is in the list.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="create-a-rule"></a><a href="#create-a-rule" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create A Rule</h3>
<ol>
<li>Go To Rules Page</li>
</ol>
<!-- markdownlint-disable MD029 -->
<ul>
<li>Go to the Cumulus dashboard, click on <code>Rules</code> in the navigation.</li>
<li>Click <code>Add Rule</code>.</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_rules_page.png" alt="Screenshot of Rules page"></p>
<ol start="2">
<li>Complete Form</li>
</ol>
<ul>
<li>Fill out the template form.</li>
</ul>
<!-- markdownlint-enable MD029 -->
![Screenshot of a Rules template for adding a new rule](/cumulus/docs/assets/cd_add_rule_form_blank.png)
<p>For more details regarding the field definitions and required information go to <a href="https://nasa.github.io/cumulus/docs/data-cookbooks/setup#rules">Data Cookbooks</a>.</p>
<blockquote>
<p><strong>Note:</strong> If the state field is left blank, it defaults to <code>false</code>.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="rule-examples"></a><a href="#rule-examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rule Examples</h4>
<ul>
<li>A rule form with completed required fields:</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_add_rule_filled.png" alt="Screenshot of a completed rule form"></p>
<ul>
<li>A successfully added Rule:</li>
</ul>
<p><img src="/cumulus/docs/assets/cd_add_rule_overview.png" alt="Screenshot of created rule"></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/cumulus/docs/v9.5.0/operator-docs/locating-access-logs"><span class="arrow-prev">← </span><span>Locating S3 Access Logs</span></a><a class="docs-next button" href="/cumulus/docs/v9.5.0/operator-docs/discovery-filtering"><span>Discovery Filtering</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#what-are-the-cumulus-data-management-types">What Are The Cumulus Data Management Types</a></li><li><a href="#interaction">Interaction</a></li><li><a href="#managing-data-management-types">Managing Data Management Types</a></li><li><a href="#configuration-fields">Configuration Fields</a><ul class="toc-headings"><li><a href="#schemas">Schemas</a></li><li><a href="#providers">Providers</a></li><li><a href="#collections">Collections</a></li><li><a href="#rules">Rules</a></li></ul></li><li><a href="#configuration-via-cumulus-dashboard">Configuration Via Cumulus Dashboard</a><ul class="toc-headings"><li><a href="#create-a-provider">Create A Provider</a></li><li><a href="#create-a-collection">Create A Collection</a></li><li><a href="#create-a-rule">Create A Rule</a></li></ul></li></ul></nav></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '1a3df8fed03e0ad718e663c44a94fe41',
                indexName: 'nasa_cumulus',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["version:v9.5.0"]}
              });
            </script></body></html>